<!DOCTYPE html><html lang="zh-tw"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="DD&#39;s 分享部落格"><meta name="author" content="DD"><meta property="og:title" content="二維陣列應用題：Borda Count"><meta property="og:description" content="DD&#39;s 分享部落格"><meta property="og:site_name" content="DD&#39;s Blog"><meta property="og:type" content="article"><meta property="og:image" content="https://diyunhung.github.iohttps://i.imgur.com/Uh0Kukb.jpg"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://diyunhung.github.iohttps://i.imgur.com/Uh0Kukb.jpg"><title>二維陣列應用題：Borda Count - DD&#39;s Blog</title><link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"><link rel="stylesheet" href="/css/style.css"><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css"><!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]--><link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet"><link rel="icon" href="https://ca.slack-edge.com/T04NQNSUB-USA2U1SFP-e94a72abd9c0-512"><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="DD's Blog" type="application/atom+xml"></head><body><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class="container-fluid"><div class="navbar-header page-scroll"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="/">DD's Blog</a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"><ul class="nav navbar-nav navbar-right"><li><a href="/">Home</a></li><li><a href="/archives">Archives</a></li><li><a href="/tags">Tags</a></li><li><a href="/categories">Categories</a></li><li><a href="https://github.com/diyunhung" target="_blank" rel="noopener"><i class="fa fa-github fa-stack-2x"></i></a></li></ul></div></div></nav><header class="intro-header" style="background-image:url(https://imgur.com/cDhxgqu.png)"><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="post-heading"><h1>二維陣列應用題：Borda Count</h1><span class="meta">2020-05-29</span></div></div></div></div></header><article><div class="container"><div class="row"><div class="col-lg-4 col-lg-offset-2 col-md-5 col-md-offset-1 post-tags"><a href="/tags/javascript/">#javascript</a></div><div class="col-lg-4 col-md-5 post-categories"><a href="/categories/JS新手村/">JS新手村</a></div><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><blockquote><p>對於二維陣列的使用時機還無法快速判斷，紀錄一下解題的脈絡，幫助重整思考。</p></blockquote><p>Borda Count是一種計分方式。<a href="https://zh.wikipedia.org/wiki/%E6%B3%A2%E9%81%94%E8%A8%88%E6%95%B8%E6%B3%95" target="_blank" rel="noopener">維基通道</a></p><p>以維基百科上的範例當作題目：<br><img src="https://i.imgur.com/qEi2Fft.png" alt width="400"></p><p>理解題目：<br>設定順位第一名得3分，第二名2分，第三名1分，第四名0分<br>依照順位排序：1:張三 2:王五 3:李四 4:馬六，這樣的票數有51張，以此類推，<br>最後算出每一位的分數總和。</p><h3 id="思維"><a class="header-anchor" href="#思維"></a>思維</h3><h2 id="1-先想需要的材料："><a class="header-anchor" href="#1-先想需要的材料："></a>1. 先想需要的材料：</h2><ul><li>有票數的陣列</li><li>有權重的陣列</li><li>有候選人陣列</li><li>有候選人依權重排序的陣列</li><li>有最後計算總和的陣列</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> votes = [<span class="number">51</span>, <span class="number">5</span>, <span class="number">23</span> , <span class="number">21</span>]; <span class="comment">//票數</span></span><br><span class="line"><span class="keyword">const</span> weights = [<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>];    <span class="comment">//權重</span></span><br><span class="line"><span class="keyword">const</span> candidate = [c1, c2, c3, c4];  <span class="comment">//候選人</span></span><br><span class="line"><span class="keyword">const</span> scoreBoard = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]];</span><br><span class="line"><span class="comment">// 1:張三 2:王五 3:李四 4:馬六</span></span><br><span class="line"><span class="comment">// 需要一個大陣列包住數組陣列，二維陣列出現了，第一組陣列為權重3的候選人，第二組為權重2...以此類推</span></span><br><span class="line"><span class="keyword">let</span> score = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]; <span class="comment">//總分計算，初始值為0，預計會做累加，按候選人順序排列</span></span><br></pre></td></tr></table></figure><h2 id="2-想要的結果"><a class="header-anchor" href="#2-想要的結果"></a>2. 想要的結果</h2><p>以候選人1張三(c1)做例子：（想一下突然卡住了）<br>得分統計要在<code>candidate = [c1, c2, c3, c4]</code>還是<code>score = [0, 0, 0, 0];</code>這裡?<br>Ermmm…<br>應該是在<code>score = [0, 0, 0, 0];</code>吧?!<code>candidate = [c1, c2, c3, c4]</code>是多的嗎？先不用他了…<br>先以pseudocode記<s>流水帳</s></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">想把score[<span class="number">0</span>] = votes[<span class="number">0</span>] * wights[<span class="number">0</span>] + votes[<span class="number">1</span>] * wieghts[<span class="number">3</span>]...</span><br></pre></td></tr></table></figure><p>連第一行都沒打完就發覺不對勁！😐 <code>votes</code>跟<code>weights</code>沒有一個規律<br>這要hardcore打完嗎？ 開始發現案情不單純…<br>再重新思考一次…</p><p><img src="https://i.ytimg.com/vi/-2Z0Y3Kk8nU/maxresdefault.jpg" alt width="300"></p><p><code>scoreBoard</code>的陣列放的是候選人編號（1~4），應該根據<code>scoreBoard</code>把權重 * 票數後丟給對應編號，<code>score</code>的表現形式就會變成</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//從第一筆資料做推演</span></span><br><span class="line">score[scoreBoard[<span class="number">0</span>][<span class="number">0</span>]] = votes[<span class="number">0</span>] * weights[<span class="number">0</span>]; <span class="comment">//score[1] = 51 * 3</span></span><br><span class="line">score[scoreBoard[<span class="number">0</span>][<span class="number">1</span>]] = votes[<span class="number">1</span>] * weights[<span class="number">0</span>]; <span class="comment">//socre[2] = 5 * 3</span></span><br><span class="line">score[scoreBoard[<span class="number">0</span>][<span class="number">2</span>]] = votes[<span class="number">2</span>] * weights[<span class="number">0</span>]; <span class="comment">//score[3] = 23 *3</span></span><br><span class="line">score[scoreBoard[<span class="number">0</span>][<span class="number">3</span>]] = votes[<span class="number">3</span>] * weights[<span class="number">0</span>]; <span class="comment">//score[4] = 21 *3</span></span><br><span class="line">score[scoreBoard[<span class="number">1</span>][<span class="number">0</span>]] = votes[<span class="number">0</span>] * weights[<span class="number">1</span>]; <span class="comment">//score[2] = 51 *2</span></span><br><span class="line">score[scoreBoard[<span class="number">1</span>][<span class="number">1</span>]] = votes[<span class="number">1</span>] * weights[<span class="number">1</span>]; <span class="comment">//score[3] = 5 * 2</span></span><br><span class="line"><span class="comment">//行了！</span></span><br></pre></td></tr></table></figure><p>重整前後的思維差異<br>前：想依照候選人順序做累加，但加總計分的時找不到規律。<br>後：依照表格由左至右、由上到下計算完該格總分後給對應的候選人編號</p><h2 id="3-將想法實現成code"><a class="header-anchor" href="#3-將想法實現成code"></a>3. 將想法實現成code</h2><p>既然是依據<code>scoreBoard</code>由左至右由上到下做執行，就由他出發。<br>他是一個二維陣列，要實現查找到<code>scoreBoard[0][0]</code>的值，必須<code>forEach</code>兩次</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> votes = [<span class="number">51</span>, <span class="number">5</span>, <span class="number">23</span> , <span class="number">21</span>]; <span class="comment">//票數</span></span><br><span class="line"><span class="keyword">const</span> weights = [<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>];    <span class="comment">//權重</span></span><br><span class="line"><span class="keyword">const</span> scoreBoard = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]];</span><br><span class="line"><span class="keyword">let</span> score = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]; </span><br><span class="line"></span><br><span class="line">scoreBoard.forEach(<span class="function"><span class="params">boardValue</span> =&gt;</span> </span><br><span class="line">    boardValue.foreach(<span class="function"><span class="params">value</span> =&gt;</span> </span><br><span class="line">        score[value] = votes[<span class="number">0</span>] * weights[<span class="number">0</span>];)</span><br></pre></td></tr></table></figure><p>可是<code>votes[0]</code>跟<code>weight[0]</code>也不該寫死，<br>此時把<code>forEach</code>方法的<code>callback</code>三個參數<code>currentValue</code>、<code>index</code>、<code>array</code>考慮進來，<br>再看一下<code>scoreBoard</code>裡的值，<br><code>scoreBoard[0]</code>都是要乘以權重<code>weight[0]</code>;<br><code>scoreBoard[n][0]</code>要乘以<code>votes[0]</code><br><mark>index</mark>該用！</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> votes = [<span class="number">51</span>, <span class="number">5</span>, <span class="number">23</span> , <span class="number">21</span>]; <span class="comment">//票數</span></span><br><span class="line"><span class="keyword">const</span> weights = [<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>];    <span class="comment">//權重</span></span><br><span class="line"><span class="keyword">const</span> scoreBoard = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]];</span><br><span class="line"><span class="keyword">let</span> score = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]; </span><br><span class="line"></span><br><span class="line">scoreBoard.forEach(<span class="function">(<span class="params">boardValue, boardIndex</span>)=&gt;</span> &#123;</span><br><span class="line">    boardValue.forEach(<span class="function">(<span class="params">value,index</span>) =&gt;</span> &#123;</span><br><span class="line">        score[value] +=  weights[boardIndex] * votes[index];&#125;) &#125;) </span><br><span class="line">        <span class="comment">// 感覺雛形出來了！來看看結果</span></span><br><span class="line"><span class="built_in">console</span>.log(score); <span class="comment">//[0, 153, 205, 151, NaN] 恩？</span></span><br></pre></td></tr></table></figure><p><code>score</code>宣告的時候只給4個值，結果出來變5個值？！</p><p>因為<code>scoreBoard</code>出現的數字是1, 2, 3, 4，陣列的索引值從<code>0</code>開始，而<code>score[4]</code> 沒有起始值，<code>undefined + 245(任意數字)= NaN</code></p><p>再修一下就完成了！</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> votes = [<span class="number">51</span>, <span class="number">5</span>, <span class="number">23</span> , <span class="number">21</span>]; <span class="comment">//票數</span></span><br><span class="line"><span class="keyword">const</span> weights = [<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>];    <span class="comment">//權重</span></span><br><span class="line"><span class="keyword">const</span> scoreBoard = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], [<span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]];</span><br><span class="line"><span class="keyword">let</span> score = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> ,<span class="number">0</span>];  <span class="comment">//或[null, 0, 0, 0, 0]</span></span><br><span class="line"></span><br><span class="line">scoreBoard.forEach(<span class="function">(<span class="params">boardValue, boardIndex</span>)=&gt;</span> &#123;</span><br><span class="line">    boardValue.forEach(<span class="function">(<span class="params">value,index</span>) =&gt;</span> &#123;</span><br><span class="line">        score[value] +=  weights[boardIndex] * votes[index];&#125;) &#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(score); <span class="comment">//[0, 153, 205, 151, 91] 跟維基百科說的一樣！＊注意人名跟得分</span></span><br></pre></td></tr></table></figure><p>從前輩學來的解題方法覺得很受用<br><mark>理解題目</mark>到<mark>希望結果</mark>的樣子，這兩個一定要先有藍圖，再來想coding使用的方法</p><p>新手村時期還在活化大腦階段，只能盡力拆解步驟想辦法找規律了。</p></div><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"></div></div></div></article><hr><footer><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"><li><a href="https://github.com/diyunhung" target="_blank"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href="mailto:lisa0903@gmail.com" target="_blank"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-envelope-o fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="copyright text-muted">&copy; 2020 DD<br></p><p class="copyright text-muted">Original Theme <a target="_blank" href="http://startbootstrap.com/template-overviews/clean-blog/">Clean Blog</a> from <a href="http://startbootstrap.com/" target="_blank">Start Bootstrap</a></p><p class="copyright text-muted">Adapted for <a target="_blank" href="https://hexo.io/">Hexo</a> by <a href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a></p></div></div></div></footer><script src="//code.jquery.com/jquery-2.1.4.min.js"></script><script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script></body></html>